.\" Man page generated from reStructuredText.
.
.TH TOTPPROV 1 "2013-09-20" "0.6" ""
.SH NAME
totpprov \- Simple provisioning script for totpcgi
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
totpprov [\-c /path/to/provisioning.conf] command username
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
This is a simple command\-line provisioning script for totpcgi. It uses
the backend information and default parameters data found in
provisioning.conf to operate on user records.
.SH OPTIONS
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-\-hotp
generate HOTP token instead of TOTP
.TP
.BI \-c \ CONFIG_FILE\fP,\fB \ \-\-config\fB= CONFIG_FILE
Path to provisioning.conf
(Default: /etc/totpcgi/provisioning.conf)
.UNINDENT
.UNINDENT
.UNINDENT
.SH COMMANDS
.INDENT 0.0
.TP
.B delete\-user
deletes user record
.TP
.B delete\-user\-state
deletes any existing state information for user
.TP
.B delete\-user\-pincode
deletes pincode entry for user
.TP
.B delete\-user\-token
deletes the token issued to user
.TP
.B set\-user\-pincode
sets pincode for user
.TP
.B encrypt\-user\-token
encrypts existing token with the user\(aqs pincode
.TP
.B decrypt\-user\-token
decrypts existing encrypted token with the user\(aqs pincode
.TP
.B generate\-user\-token
generates a new token for user
.TP
.B provision\-user
provisions a new user
.UNINDENT
.SH EXAMPLES
.sp
To provision a user:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
totpprov provision\-user bobafett
totpprov \-\-hotp provision\-user bobafett
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To delete a user:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
totpprov delete\-user bobafett
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To delete a token:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
totpprov delete\-user\-token bobafett
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To set/change user pincode:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
totpprov set\-user\-pincode bobafett
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To generate a new google\-authenticator token for user:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
totpprov generate\-user\-token bobafett
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
konstantin@linuxfoundation.org

License: GPLv2+
.SH COPYRIGHT
Linux Foundation and contributors
.\" Generated by docutils manpage writer.
.
